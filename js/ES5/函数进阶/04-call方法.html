<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
   <button>点击</button>
   <button>点击</button>
   <button>点击</button>
   <script>
    // 改变函数内this指向 js提供了三种方法  call() apply() bind()
    // 1. call() 可以调用函数 可以改变函数体内的this指向
    // let o = {
    //     name:'pink'
    // }
    // function fn(a, b){
    //     console.log(this);
    //     console.log(a + b);
    // }
    // fn.call(o, 1, 2);
    //  // call 的主要作用可以实现继承

    //  function Father(uname, age, sex){
    //     this.uname = uname,
    //     this.age = age,
    //     this.sex = sex
    //  }
    //  function Son(uname, age, sex){
    //     Father.call(this, uname, age, sex)
    //  }
    // let son = new Son('刘德华', 18, '男')
    // console.log(son); //son继承了父类构造函数里面的属性

    
    // 2. apply()   调用函数 第二个可以改变函数内部的this指向
    // apply()的参数必须是数组（伪数组）
    // let obj = {
    //     name:'pink'
    // }
    // function fn(arr){
    //     console.log(this);
    //     console.log(arr); //'andy'
       
    // }
    // fn.apply(obj, ['andy']); 
    // // apply()的应用 比如  利用apply 借助数学内置对象求数组中的最大值和最小值
    // let arr = [1, 2, 44, 80, 10];

    // let max = Math.max.apply(Math, arr);
    // let min = Math.min.apply(Math, arr);
    // console.log(max); //80 
    // console.log(min); //1 

    // bind()  不会调用函数  但是能改变函数内部的this指向
   //   let o = {
   //      name: 'andy'
   //   };
   //   function fn(a, b){
   //      console.log(this);
   //      console.log(a+b);
   //   };
   //   let f = fn.bind(o, 1, 2) //返回的是原函数改变this之后产生的新函数
   //   f();
   
   // // 4.  如果有的函数不需要立即调用 但又想改变这个函数内部的this指向时
   //    let btn = document.querySelector('button');
   //    btn.addEventListener('click', function(){
   //       this.disabled = true;
   //       setTimeout(function(){
   //          this.disabled= false;
   //       }.bind(this), 3000)
   //       // 这个this指向的就是btn这个对象
   //       // 或者用箭头函数也许 没有this
   //    })
      let btn = document.querySelectorAll('button');
      for(let i=0; i<btn.length; i++){
         btn[i].onclick = function(){
            this.disabled = true;
            setTimeout(function(){
              this.disabled = false;
            }.bind(this), 2000)
         }
      }
   </script>
</body>
</html>